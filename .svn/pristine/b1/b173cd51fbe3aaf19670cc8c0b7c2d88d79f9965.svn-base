

 function getStateDataMaster() {
	var vartype = "S";
  	$.ajax({
		type: "POST",
        url: ""+$('#ctx').attr('content')+"/urbanMaster",
        data: {
			"modeFlag": vartype    	
       	},
        success: function(data){

            newData = data;
            //console.log(newData);
			$("#statecode option").remove();
            var obj = jQuery.parseJSON( data );
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("statecode");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select State";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values;
             option.value = key;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 function saveInvestigation(){
	  var investigationCode = document.getElementById("investigationCode").value;
      var investigationName = document.getElementById("investigationName").value;
      var statecode = document.getElementById("statecode").value;
      var schemeid = document.getElementById("schemeid").value;
	  
	  var alphanumeric = /^[a-z0-9\s]+$/i; // alpha number with space only
	  var onlySpace = /^$|.\S+./; // only space
	
	  if (schemeid=="") {
		document.getElementById("schemeidError").innerHTML="Please Select Scheme";
		document.getElementById("schemeid").focus();
		return false;
	  }else{
		document.getElementById("schemeidError").innerHTML="";
	  }
	    if (statecode=="") {
		document.getElementById("statecodeError").innerHTML="Please Select State";
		document.getElementById("statecode").focus();
		return false;
	  }else{
		document.getElementById("statecodeError").innerHTML="";
	  }
 	  if (investigationName=="") {
		document.getElementById("investigationNameError").innerHTML="Please Enter Investigation Name";
		document.getElementById("investigationName").focus();
		return false;
	  }
	  else if(!investigationName.match(alphanumeric) || !investigationName.match(onlySpace)){
		document.getElementById("investigationNameError").innerHTML="Investigation Name Consist Special Character";
		document.getElementById("investigationName").focus();
		return false;
	}
	  else{
		document.getElementById("investigationNameError").innerHTML="";
	  }
	  
	    if (investigationCode=="") {
		document.getElementById("investigationCodeError").innerHTML="Please Enter Investigation Code";
		document.getElementById("investigationCode").focus();
		return false;
	  }
	  else if(!investigationCode.match(alphanumeric) || !investigationCode.match(onlySpace)){
		document.getElementById("investigationCodeError").innerHTML="Investigation Code Consist Special Character";
		document.getElementById("investigationCode").focus();
		return false;
	}
	  else{
		document.getElementById("investigationCodeError").innerHTML="";
	  }
	  
	 /*   if (version=="") {
		document.getElementById("versionError").innerHTML="Please Enter Version";
		document.getElementById("version").focus();
		return false;
	  }else{
		document.getElementById("versionError").innerHTML="";
	  }*/
	  
	   onRegister();
      $.ajax({
        type: "POST",
        url: ""+$('#ctx').attr('content')+"/saveInvestigationMasterData",
      
        data: {
          "schemeid": schemeid,
          "statecode": statecode,
          "investigationname": investigationName,
          "investigationcode": investigationCode,
          // "version": version,
        },
        success: function (data) {
          //console.log(data);
         offRegister();
          var obj = jQuery.parseJSON(data);
          if (obj.status == "SUCCESS") {
			 document.getElementById("succmsg").innerHTML="Data Saved Successfully";
			 document.getElementById("succmsgdiv").style.display="block";
			 $('#succmsgdiv').delay(5000).fadeOut(1000);
			 
         	 document.getElementById("investigationCode").value="";
      		 document.getElementById("investigationName").value="";
    		 	$("#schemeid").val('').trigger('change');
				$("#statecode").val('').trigger('change');
          }
           else if(obj.status=="FAILURE"){
				 document.getElementById("failmsg").innerHTML=obj.message;
				 document.getElementById("failmsgDiv").style.display="block";
				 $('#failmsgDiv').delay(5000).fadeOut(2000);
				
			}
           else {
	        offRegister();
            alert('API Gateway not respond. Please try again.');
          }
        },
        error: function (e) {
			offRegister();
         	alert('API Gateway not respond. Please try again.');
        }

      });
}


function getInvestigationMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getDataInvestigationMaster",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			if(data1.status=="SUCCESS"){
			offRegister();
			var data2 = data1.data;
			//console.log("Data "+ data2);
			 var i=1;
             var table = $('#InvestigationMasterData').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			{"mData": null, render: function(){return i++;}   },
				{ "mData": "investigationname"},
				{ "mData": "investigationcode"},
      		    { "mData": "scheme_name"},
      		    /*{ "mData": "version"},*/
      		    
				],
				
      		}).buttons().container().appendTo('#InvestigationMasterData_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#SpecialityTable').DataTable( {	
      		}).buttons().container().appendTo('#InvestigationMasterData_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	      offRegister();
            alert('Error: ' + e);
         }
    });
} 
 

function saveProcedureLblMasterData() {
	var procedure_label_name = document.getElementById("procedure_label_name").value;
	var reimbursementpercentage = document.getElementById("reimbursementpercentage").value;
	var onlySpace = /^$|.*\S+.*/; // only space
	var alphanumeric = /^[a-z0-9\s]+$/i;
	var numberReg = /^\d+$/; // only number

	if (procedure_label_name == "") {
		document.getElementById("procedure_label_nameError").innerHTML = "Please Enter Procedure Level";
		document.getElementById("procedure_label_name").focus();
		return false;
	}else if(!procedure_label_name.match(alphanumeric) || !procedure_label_name.match(onlySpace)){
		document.getElementById("procedure_label_nameError").innerHTML="Please Enter Valid Procedure Level";
		document.getElementById("procedure_label_name").focus();
		return false;
	}else {
		document.getElementById("procedure_label_nameError").innerHTML = "";
	}
	
	if (reimbursementpercentage == "") {
		document.getElementById("reimbursementpercentageError").innerHTML = "Please Enter Reimbursement %";
		document.getElementById("reimbursementpercentage").focus();
		return false;
	}else if(!reimbursementpercentage.match(numberReg) || !reimbursementpercentage.match(onlySpace)){
		document.getElementById("reimbursementpercentageError").innerHTML="Please Enter Valid Reimbursement";
		document.getElementById("reimbursementpercentage").focus();
		return false;
	}else if(reimbursementpercentage.length > 3 || reimbursementpercentage >100 ){
		document.getElementById("reimbursementpercentageError").innerHTML="Please Enter Valid Reimbursement";
		document.getElementById("reimbursementpercentage").focus();
		return false;
	}else {
		document.getElementById("reimbursementpercentageError").innerHTML = "";
	}
	
	onRegister();
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/saveProcedureLabelMasterData",
		data: {
			"procedure_label_name": procedure_label_name,
			"reimbursementpercentage": reimbursementpercentage,
		},
		success: function(data) {
			// console.log(data);
			offRegister();
			var obj = jQuery.parseJSON(data);
			if (obj.status == "SUCCESS") {
				document.getElementById("succmsg").innerHTML = "Data Saved Successfully";
				document.getElementById("succmsgdiv").style.display = "block";
				$('#succmsgdiv').delay(5000).fadeOut(100);
				document.getElementById("reimbursementpercentage").value = "";
				document.getElementById("reimbursementpercentage").value = "";
				window.setTimeout(function(){getProcedureLavelMasterData()},1000);
			}else if (obj.status == "FAILURE") {
				document.getElementById("failmsg").innerHTML = obj.message;
				document.getElementById("failmsgDiv").style.display = "block";
				$('#failmsgDiv').delay(5000).fadeOut(400);
			}else {
				offRegister();
				alert('API Gateway not respond. Please try again.');
			}
		},
		error: function(e) {
			offRegister();
			alert('API Gateway not respond. Please try again.');
		}

	});
}


function saveImplantMasterData() {
	var implantname = document.getElementById("implantname").value;
	var price = document.getElementById("price").value;
	var implantCode = document.getElementById("implantCode").value;
	var statecode = document.getElementById("statecode").value;
	var schemeid = document.getElementById("schemeid").value;
	
	var onlySpace = /^$|.*\S+.*/; // only space
	var alphanumeric = /^[a-z0-9\s]+$/i;
	var numberReg = /^\d+$/; // only number

	if (schemeid == "") {
		document.getElementById("schemeidError").innerHTML = "Please Select Scheme";
		document.getElementById("schemeid").focus();
		return false;
	} else {
		document.getElementById("schemeidError").innerHTML = "";
	}
	
	if (statecode == "") {
		document.getElementById("statecodeError").innerHTML = "Please Select State";
		document.getElementById("statecode").focus();
		return false;
	}else {
		document.getElementById("statecodeError").innerHTML = "";
	}


	if (price == "") {
		document.getElementById("priceError").innerHTML = "Please Enter Price";
		document.getElementById("price").focus();
		return false;
	}else {
		document.getElementById("priceError").innerHTML = "";
	}

	if (implantname == "") {
		document.getElementById("implantnameError").innerHTML = "Please Enter Implant Name";
		document.getElementById("implantname").focus();
		return false;
	}else if(!implantname.match(alphanumeric) || !implantname.match(onlySpace)){
		document.getElementById("implantnameError").innerHTML="Please Enter Valid Implant Name";
		document.getElementById("implantname").focus();
		return false;
	}else {
		document.getElementById("implantnameError").innerHTML = "";
	}
	
	if (implantCode == "") {
		document.getElementById("implantCodeError").innerHTML = "Please Enter Implant Code";
		document.getElementById("implantCode").focus();
		return false;
	}else if(!implantCode.match(alphanumeric) || !implantCode.match(onlySpace)){
		document.getElementById("implantCodeError").innerHTML="Please Enter Valid Implant Code";
		document.getElementById("implantCode").focus();
		return false;
	}else {
		document.getElementById("implantnameError").innerHTML = "";
	}

	onRegister();
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/saveImplantIDMasterData",
		data: {
			"implantname": implantname,
			"price": price,
			"implantcode": implantCode,
			"schemeid": schemeid,
			"statecode": statecode,
		},
		success: function(data) {
			offRegister();
			var obj = jQuery.parseJSON(data);
			if (obj.status == "SUCCESS") {
				$('#infoOtp').html("Data Saved successfully");
				document.getElementById("succmsg").innerHTML = "Data Saved Successfully";
				document.getElementById("succmsgdiv").style.display = "block";
				$('#succmsgdiv').delay(5000).fadeOut(400);
				document.getElementById("implantname").value = "";
				document.getElementById("price").value = "";
				document.getElementById("implantCode").value = "";
				$("#schemeid").val('').trigger('change');
				$("#statecode").val('').trigger('change');
			}else if (obj.status == "FAILURE") {
				offRegister();
				document.getElementById("failmsg").innerHTML = obj.message;
				document.getElementById("failmsgDiv").style.display = "block";
				$('#failmsgDiv').delay(5000).fadeOut(400);
			} else {
				offRegister();
				document.getElementById("failmsgDiv").style.display = "none";
				document.getElementById("succmsgdiv").style.display = "none";
				alert('API Gateway not respond. Please try again.');
			}
		},
		error: function(e) {
			offRegister();
			alert('API Gateway not respond. Please try again.');
		}

	});
}

function saveStratificationMasterData() {
	
	  var schemeid = document.getElementById("scheme").value;
      var statecode = document.getElementById("statecode").value;
      var stratification_code = document.getElementById("stratification_code").value;
      var price = document.getElementById("price").value;
      var stratification_detail = document.getElementById("stratification_detail").value;
      var stratification_options = document.getElementById("stratification_options").value;
      var stratification_discription = document.getElementById("stratification_discription").value;
     var stratification_rule = document.getElementById("stratification_rule").value;
     
      
		if(schemeid ==""){
		document.getElementById("schemeidError").innerHTML="Please Select Scheme";
		document.getElementById("schemeid").focus();
		return false;
		}
		else{
			document.getElementById("schemeidError").innerHTML="";
		}
		if(statecode ==""){
		document.getElementById("statecodeError").innerHTML="Please Select State";
		document.getElementById("statecode").focus();
		return false;
		}
		else{
			document.getElementById("statecodeError").innerHTML="";
		} 

		if(price ==""){
		document.getElementById("priceError").innerHTML="Please Enter Price";
		document.getElementById("price").focus();
		return false;
		}
		else{
			document.getElementById("priceError").innerHTML="";
		}
	
		if(stratification_detail ==""){
		document.getElementById("stratification_detailError").innerHTML="Please Enter Stratification Detail";
		document.getElementById("stratification_detail").focus();
		return false;
		}
		else{
			document.getElementById("stratification_detailError").innerHTML="";
		}
		if(stratification_options ==""){
		document.getElementById("stratification_optionsError").innerHTML="Please Enter Stratification Options";
		document.getElementById("stratification_options").focus();
		return false;
		}
		else{
			document.getElementById("stratification_optionsError").innerHTML="";
		}
	
      onRegister();
      $.ajax({
        type: "POST",
        url: ""+$('#ctx').attr('content')+"/saveStratificationMasterRequestData",
        data: {
	      "schemeid": schemeid,
          "statecode": statecode,
          "price": price,
          "stratificationcode":stratification_code,
          "stratificationdetails": stratification_detail,
          "stratificationcodecriteria": stratification_options,
          "stratificationdescription":stratification_discription,
          "rule" :stratification_rule,
        },
        
        success: function (data) {
          //console.log(data);
          offRegister();
          var obj = jQuery.parseJSON(data);
          if (obj.status == "SUCCESS") {
	
             $('#infoOtp').html("Data Saved successfully");
             document.getElementById("succmsg").innerHTML="Data Saved Successfully";
			 document.getElementById("succmsgdiv").style.display="block";
		    $('#succmsgdiv').delay(5000).fadeOut(400);
	        document.getElementById("stratification_code").value="";
	        document.getElementById("price").value="";
	        document.getElementById("stratification_detail").value="";
	        document.getElementById("stratification_options").value="";
	        document.getElementById("stratification_discription").value="";
	        document.getElementById("stratification_rule").value="";
	        $( "#statecode" ).val('').trigger('change');	
	        $( "#scheme" ).val('').trigger('change');		 
          } 
          else if (obj.status == "FAILURE") {
				 offRegister();
		 		 document.getElementById("failmsg").innerHTML=obj.message;
				 document.getElementById("failmsgDiv").style.display="block";
				 $('#failmsgDiv').delay(5000).fadeOut(2000);
				
			}
          else {
	        offRegister();
	        alert('API Gateway not respond. Please try again.');
        
          }
        },
        error: function (e) {
			offRegister();
         	alert('API Gateway not respond. Please try again.');
        }

      });
}


 
function getSpecialityMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getSpecialityMasterData",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			if(data1.status=="SUCCESS"){
			offRegister();
			var data2 = data1.data;
			$("#exSpecialityTableample2").dataTable().fnClearTable();
			$("#SpecialityTable").dataTable().fnDraw();
			$("#SpecialityTable").dataTable().fnDestroy();
			 var i=1;
             var table = $('#SpecialityTable').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			//{"mData": null, render: function(){return i++;}   },
	 			{ "mData": "specialityid"},
				{ "mData": "specialityname"},
				{ "mData": "specialitycode"},
      		    { "mData": "specialitytype"},
      		    { "mData": "scheme_name"},
      		    { "mData": "state_name"},
      		    { "mData": "status"},
      		    { "mData": "version"},
      		      { "mData": "specialityid",
                        render: function () {
                             return '<button  id="editspeciality" class="btn btn-primary custom-btn" onclick="editSpeciality(this)">Edit&nbsp;</button>';
                        }
                      },
                      { "mData": "specialityid","render": function (data2, type, row) {
                    	return '<button  id="deleteSpeciality" value="'+data2+'" class="btn btn-primary custom-btn" data-toggle="modal" data-target="#modal-sm" onclick="FillDialog(this.value)">Delete&nbsp;</button>';
               		}},
                       
				],
				
      		}).buttons().container().appendTo('#SpecialityTable_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#SpecialityTable').DataTable( {	
      		}).buttons().container().appendTo('#SpecialityTable_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	      offRegister();
            alert('Error: ' + e);
         }
    });
} 
 
function getProcedureMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getProcedureMasterData",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			
			if(data1.status=="SUCCESS"){
		     offRegister();
			var data2 = data1.data;
			console.log("Data "+ data2);
			 var i=1;
             var table = $('#procedureTable').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			{"mData": null, render: function(){return i++;}   },
				{ "mData": "specialtycode"},
      		    { "mData": "packagecode"},
      		    { "mData": "procedurecode"},
      		    { "mData": "procedurename"},
      		   /* { "mData": "ichiprocedureicd_code"},*/
      		 /*   { "mData": "nabh_price"},
      		    { "mData": "non_nabh_price"},*/
      		    { "mData": "stratificationstatus"},
      		  /*  { "mData": "noofstratification_booked"},*/
      		    { "mData": "implantstatus"},
      		  /*  { "mData": "morethanoneimplantstatus"},*/
      		    { "mData": "specialconditionsstatus"},
      		    { "mData": "reservationtertiaryhospitalsstatus"},
      		    
      		    { "mData": "reservationtertiaryhospitalsstatus"},
      		    { "mData": "levelofcare"},
      		    { "mData": "los"},
      		    { "mData": "autoapprovedstatus"},
      		    
      		    { "mData": "procedurelabel"},
      		    //{ "mData": "procedurelabelprice"},
      		   /* { "mData": "specialconditionstatus"},*/
      		  /*  { "mData": "specialconditionsrulestatus"},
      		    */
      		   /* { "mData": "procedure_label_name"},
      		    { "mData": "procedure_label_price"},
      		    { "mData": "special_condition_pop_up_status"},
      		    { "mData": "special_conditions_rule_status"},
      		    */
      		    { "mData": "enhancementapplicablestatus"},
      		    { "mData": "medicalorsurgical"},
      		   /* { "mData": "daycareprocedure"},*/
      		/*    { "mData": "remarks"},*/
      		    
				],
				
      		}).buttons().container().appendTo('#procedureTable_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#procedureTable').DataTable( {	
      		}).buttons().container().appendTo('#procedureTable_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	 		offRegister();
            alert('Error: ' + e);
         }
    });
} 
 
function getProcedureLavelMasterData() {
	onRegister();
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/getProcedureLabelMasterData",
		success: function(data) {
			//console.log("data--"+data)
			var data1 = jQuery.parseJSON(data);
			offRegister();
			if (data1.status == "SUCCESS") {
				var data2 = data1.data;
				//console.log("Data "+ data2);
				var i = 1;
				$("#procedureLavelTable").dataTable().fnClearTable();
				$("#procedureLavelTable").dataTable().fnDraw();
				$("#procedureLavelTable").dataTable().fnDestroy();
				var table = $('#procedureLavelTable').DataTable({
					"responsive": true, "lengthChange": true, "autoWidth": false, "pagingType": "full_numbers", "pageLength": 50,
					"buttons": ["csv", "excel"],
					"language": { "emptyTable": "No Data available" },
					"aaData": data2,
					"aoColumns": [
						{ "mData": null, render: function() { return i++; } },
						{ "mData": "procedure_label_name" },
						{ "mData": "reimbursement_percentage" },
					],
				}).buttons().container().appendTo('#procedureLavelTable_wrapper .col-md-6:eq(0)');
			}
			else {
				var table = $('#procedureLavelTable').DataTable({
				}).buttons().container().appendTo('#procedureLavelTable_wrapper .col-md-6:eq(0)');
			}
		},
		error: function(e) {
			offRegister();
			alert('Error: ' + e);
		}
	});
} 



function getImplantMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getImplantIDMasterData",
           success: function(data){
			//console.log("data--"+data)
			offRegister();
            var data1 = jQuery.parseJSON( data );
			if(data1.status=="SUCCESS"){
			var data2 = data1.data;
			//console.log("Data "+ data2);
			 var i=1;
             var table = $('#implantTable').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			{"mData": null, render: function(){return i++;}   },
	 			 { "mData": "implantcode"},
				{ "mData": "implantname"},
      		   
      		  /*  { "mData": "pricename"},*/
      		    { "mData": "implantprice"},
      		   /* { "mData": "status"},*/
      		    { "mData": "scheme_name"},
      		    { "mData": "statecode"},
      		  
				],
				
      		}).buttons().container().appendTo('#implantTable_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#implantTable').DataTable( {	
      		}).buttons().container().appendTo('#implantTable_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
			offRegister();	
            alert('Error: ' + e);
         }
    });
} 


function getStratificationAllMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getStratificationMasterRequestData",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			
			if(data1.status=="SUCCESS"){
			offRegister();
			var data2 = data1.data;
			//console.log("Data "+ data2);
			 var i=1;
             var table = $('#stratificationMasterData').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			{"mData": null, render: function(){return i++;}   },
	 			{ "mData": "stratificationcode"},
				{ "mData": "price"},
				{ "mData": "stratificationdescription"},
      		    { "mData": "stratificationdetails"},
      		    { "mData": "stratificationcodecriteria"},
      		    { "mData": "rule"},
      		    { "mData": "scheme_name"},
      		    { "mData": "statecode"},
      		    
				],
				
      		}).buttons().container().appendTo('#stratificationMasterData_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#stratificationMasterData').DataTable( {	
      		}).buttons().container().appendTo('#stratificationMasterData_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	         offRegister();
            alert('Error: ' + e);
         }
    });
} 

 
 function getPackageCategory() {
  	$.ajax({
		type: "POST",
         url:""+$('#ctx').attr('content')+"/getPackageCategoryMasterData",
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#pacCategory option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
             //console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("pacCategory");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Category";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.packagename;
             option.value = values.packagecatid;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 function getPrice() {

  	$.ajax({
		type: "POST",
        url:""+$('#ctx').attr('content')+"/getPriceMasterData",
        data: {    	
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#pacPrice option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("pacPrice");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Price";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.price;
             option.value = values.priceid;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 
 function getProcedureLBL() {

  	$.ajax({
		type: "POST",
		url:""+$('#ctx').attr('content')+"/getProcedureLabelMasterData",
        data: {    	
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){
            newData = data;
           // console.log(newData);
			$("#procedure_lbl_id option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
           //  console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("procedure_lbl_id");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure LBL";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedure_label_name;
             option.value = values.procedurelblid;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 

function getPacakageMaster() {
  	$.ajax({
		type: "POST",
		url:""+$('#ctx').attr('content')+"/getPackageMasterData",
        data: {    	
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){

            newData = data;
            //console.log(newData);
			$("#packageid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("packageid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Package";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.packagename;
             option.value = values.packagecode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 
 function getProcedureMaster() {

  	$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getProcedureMasterData",
         data: {    	
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Package";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename;
             option.value = values.procedureid;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 
 function getProcedureForInvestigationMappMaster() {

  	$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getProcedureMasterData",
         data: {    	
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename+' / '+values.specialityname;
             option.value = values.procedurecode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 function getProcedureMasterBySpecilityId() {
		var specilityid  = document.getElementById("speciality").value;
		//var packageid  = document.getElementById("packageid").value;
		//var userstate = document.getElementById("userstate").value;
	
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getProcedureBySpecilityId",
         data: {    
				"specilitycode":specilityid,
			//	"packagecode":packageid,
			//	"statecode":userstate,
       		 },
       		  beforeSend : function(xhr) {
			//	$("#gentablebody").empty();
			//	xhr.setRequestHeader(header, token);
			},
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename;
             option.value = values.procedurecodehbp2;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 function getPackageMasterBySPecilityCode() {
		var specilityid  = document.getElementById("speciality").value;
		//var userstate = document.getElementById("userstate").value;
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getPackageMasterBySpecilityCode",
         data: {    
				"specilitycode":specilityid,
				//"statecode":userstate,
       		 },
           success: function(data){
            newData = data;
            //console.log(newData);
			$("#packageid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("packageid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Package";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.packagename;
             option.value = values.packagecode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
 
  function getProcedureMasterBySpecilityAndPackageCodeForPriceMaster() {
		var specilityid  = document.getElementById("speciality").value;
		var packageid  = document.getElementById("packageid").value;
		var userstate = document.getElementById("statecode").value;
		
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getprocedureMasterBySpecilityCodeAndPackageCodeByState",
         data: {    
				"specilitycode":specilityid,
				"packagecode":packageid,
				"statecode":userstate,
       		 },
           success: function(data){
			//getPackageCost();
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename;
             option.value = values.procedurecode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
         
    });
 } 
 function getProcedureMasterBySpecilityAndPackageCode() {
		var specilityid  = document.getElementById("speciality").value;
		var packageid  = document.getElementById("packageid").value;
		var userstate = document.getElementById("userstate").value;
		
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getprocedureMasterBySpecilityCodeAndPackageCodeByState",
         data: {    
				"specilitycode":specilityid,
				"packagecode":packageid,
				"statecode":userstate,
       		 },
           success: function(data){
			//getPackageCost();
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename;
             option.value = values.procedureid;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
         
    });
 } 
 
 function  getPackageCost(txnid){
		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getPackageTotalCost",
		 data: {    
				"txnid":txnid
       		 },
         success: function(data){
           	document.getElementById("totPckgAmt").value=data.data;
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
	
}

function showStratificationAndImplant(){
	var procedureid  = document.getElementById("procedureid").value;
	$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/checkForStratificationAndImplant",
         data: {    
				"procedureid":procedureid,
       		 },
           success: function(data){
            newData = data;
            console.log(newData);
            if(newData.data.implantstatus=="Yes"){
				document.getElementById("implantdiv").style.display = "block";
			}else{
				document.getElementById("implantdiv").style.display = "none";
			}
            
            if(newData.data.stratificationstatus=="Yes"){
				document.getElementById("stratdiv").style.display = "block";
			}else{
				document.getElementById("stratdiv").style.display = "none";
			}
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });	
	
}
  function getInvestigationByProcedureCode() {
		var procedureid  = document.getElementById("procedureid").value;
		//var packageid  = document.getElementById("packageid").value;
		var userstate = document.getElementById("userstate").value;
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getInvestigationMasterBydPackageAndProcedureCode",
         data: {    
				"procedurecode":procedureid,
				//"packagecode":packageid,
				"statecode":userstate,
       		 },
           success: function(data){
				//getPackageCost();
	            newData = data;
	            //console.log(newData);
				$("#investigationActive option").remove();
	            var obj = jQuery.parseJSON( data );
	            obj = obj.data;
	            // console.log("-------"+obj);
	         	var x = document.getElementById("investigationActive");
	         	for (var key in obj) {
		             var values =  obj[key];
		             var option = document.createElement("option");
		             option.text = values.investigationname;
		             option.value = values.investigationid;
		             x.add(option);
	            }   
	             
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 

 
  function getImplantMasterDataByState() {
	
		var userstate = document.getElementById("userstate").value;
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getImplantMasterDataPreAuth",
         data: {    
				"statecode":userstate,
       		 },
       		  beforeSend : function(xhr) {
			
			},
           success: function(data){
            newData = data;
			$("#implantCode option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
    
         	for (var key in obj) {
	             var values =  obj[key];
	             var x = document.getElementById("implantCode");
	             var option = document.createElement("option");
	             option.text = values.implantdetails;
	             option.value = values.implantid;
	             x.add(option);
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
 } 
 
  
 
 
 function getDocumentMasterDataBySpecPackProcCode(){
		var txnid = document.getElementById("txnid").value;
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getPreAuthDocumentMasterData",
         data: {    
				"txnid":txnid
       		 },
           success: function(data){
				$("#documentid option").remove();
				var count=0;
         		for (var key in data.data) {
	             	var values =  data.data[key];
	             	var x = document.getElementById("documentid");
	             	if(count==0){
			            var option = document.createElement("option");
			            option.text ="Select document";
			            option.value = "";
			            x.add(option);
	             	}
					var option = document.createElement("option");
					option.text = values.preauthdoc;
					option.value = values.docid;
					x.add(option);
					
					count++;
             	}   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });
}

function getInvestigationDocumentForProcedures(){
		var txnid = document.getElementById("txnid").value;
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getInvestigationDocumentForProcedures",
         data: {    
				"txnid":txnid
       		 },
		success: function(data){
			$("#investid option").remove();
        	var count=0;
         	for (var key in data.data) {
            	var values =  data.data[key];
            	var x = document.getElementById("investid");
            	if(count==0){
		            var option = document.createElement("option");
		            option.text ="Select document";
		            option.value = "";
		            x.add(option);
             	}
				var option = document.createElement("option");
				option.text = values.preauthdoc;
				option.value = values.docid;
				x.add(option);

				count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
    });	
}

function saveVitalTestMaster(){
	
   var testDetails = document.getElementById("testDetails").value;
   var inputType = document.getElementById("inputType").value;
   var maxValue = document.getElementById("maxValue").value;
   var minValue = document.getElementById("minValue").value;
   var format = document.getElementById("format").value;
   var measurment = document.getElementById("measurment").value;
   var reportMatchingContents = document.getElementById("reportMatchingContents").value;
   
   if(testDetails==""){
	document.getElementById("testDetailsError").innerHTML="Please Enter Test Details";
	document.getElementById("testDetails").focus();
	return false;
	}
	   else{
		document.getElementById("testDetailsError").innerHTML="";
	}
	
	 if(inputType==""){
	document.getElementById("inputTypeError").innerHTML="Please Enter Input Type";
	document.getElementById("inputType").focus();
	return false;
	}
	   else{
		document.getElementById("inputTypeError").innerHTML="";
	}
	
	
	onRegister();
	var formData = new FormData(vitalTestMaster);
	 	$.ajax({
		type: "POST",
	     url:""+$('#ctx').attr('content')+"/saveVitalTestMasterData",
         data: formData,
         processData: false,
         contentType: false,       		 
            success: function(data){
	  		offRegister();
            newData = data;
			var data1 = jQuery.parseJSON(newData);
			console.log(data1)
			if(data1.status=="SUCCESS"){
				 document.getElementById("succmsg").innerHTML="Data Saved Successfully";
				 document.getElementById("succmsgdiv").style.display="block";
				 document.getElementById("filelable").innerHTML="";
				 document.getElementById("failmsg").innerHTML="";
				 document.getElementById("failmsgDiv").style.display="none";
				 document.getElementById("saveorg").reset();
				 $('#succmsgdiv').delay(5000).fadeOut(400);
			}else if(data1.status=="FAILURE"){
				 document.getElementById("failmsg").innerHTML=data1.message;
				 document.getElementById("failmsgDiv").style.display="block";
				 document.getElementById("succmsg").innerHTML="";
				 document.getElementById("succmsgdiv").style.display="none";
				 $('#failmsgDiv').delay(5000).fadeOut(400);
			}else{
				 document.getElementById("failmsgDiv").style.display="none";
				 document.getElementById("succmsgdiv").style.display="none";
				 document.getElementById("FailedError").innerHTML="API Gateway not respond. Please try again.";
			}
         },
         error: function(e){
	  		 offRegister();
             alert('Error: ' + e);
         }
    });				
}


function getVitalTestMasterData() {
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getVitalTestMasterData",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			if(data1.status=="SUCCESS"){
			offRegister();
			var data2 = data1.data;
			//console.log("Data "+ data2);
			 var i=1;
             var table = $('#vitalMasterData').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			{"mData": null, render: function(){return i++;}   },
				{ "mData": "testdetails"},
				{ "mData": "inputtype"},
      		    { "mData": "maxvalue"},
      		    { "mData": "minvalue"},
      		     { "mData": "format"},
      		    { "mData": "measurment"},
      		    { "mData": "reportmatchingcontents"},
      		    
				],
				
      		}).buttons().container().appendTo('#vitalMasterData_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#SpecialityTable').DataTable( {	
      		}).buttons().container().appendTo('#vitalMasterData_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	      offRegister();
            alert('Error: ' + e);
         }
    });
} 


function getVitalTestMaster() {
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/getVitalTestMasterData",
		success: function(data) {
			newData = data;
			//console.log(newData);
			$("#vitalTest option").remove();
			var obj = jQuery.parseJSON(data);
			obj = obj.data;
			//console.log("-------"+obj);
			var count = 0;
			for (var key in obj) {
				var values = obj[key];
				var x = document.getElementById("vitalTest");
				if (count == 0) {
					var option = document.createElement("option");
					option.text = "Select Vital Test";
					option.value = "";
					x.add(option);
				}
				var option = document.createElement("option");
				option.text = values.tabname;
				option.value = values.id;
				x.add(option);
				count++;
			}
		},
		error: function(e) {
			alert('Error: ' + e);
		}
	});
}


function saveVitalTestMasterProcedureMap() {
	var vitaltestid = $('#vitalTest').val(); 
	var procedurecode = document.getElementById("procedureid").value;

	onRegister();
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/saveVitaltestProcedureMapping",
		data: {
			"procedurecode": procedurecode,
			"vitalid": vitaltestid,
		},
		success: function(data) {
			offRegister();
			newData = data;
			var data1 = jQuery.parseJSON(newData);
			console.log(data1)
			if (data1.status == "SUCCESS") {
				document.getElementById("succmsg").innerHTML = "Data Saved Successfully";
				document.getElementById("succmsgdiv").style.display = "block";
				document.getElementById("failmsgDiv").style.display = "none";
				// document.getElementById("saveorg").reset();
				$('#succmsgdiv').delay(5000).fadeOut(400);
			} else if (data1.status == "FAILURE") {
				document.getElementById("failmsg").innerHTML = data1.message;
				document.getElementById("failmsgDiv").style.display = "block";
				document.getElementById("succmsgdiv").style.display = "none";
				$('#failmsgDiv').delay(5000).fadeOut(400);
			} else {
				document.getElementById("failmsgDiv").style.display = "none";
				document.getElementById("succmsgdiv").style.display = "none";
				document.getElementById("FailedError").innerHTML = "API Gateway not respond. Please try again.";
			}
		},
		error: function(e) {
			offRegister();
			alert('Error: ' + e);
		}
	});
}

function getprocedureList() {
	$.ajax({
		type: "POST",
		url: "" + $('#ctx').attr('content') + "/getprocedureList",
		success: function(data) {
			newData = data;
			$("#procedureid option").remove();
			var obj = jQuery.parseJSON(data);
			obj = obj.data;
			// console.log("-------"+obj);
			var count = 0;
			for (var key in obj) {
				var values = obj[key];
				var x = document.getElementById("procedureid");
				if (count == 0) {
					var option = document.createElement("option");
					option.text = "Select Procedure";
					option.value = "";
					x.add(option);
				}
				var option = document.createElement("option");
				option.text = values.procedurename;
				option.value = values.procedurecode;
				x.add(option);

				count++;
			}
		},
		error: function(e) {
			alert('Error: ' + e);
		}

	});
}

function getVitalTestMasterMappingData(){
	onRegister();
  	$.ajax({
		type: "POST",
		 url:""+$('#ctx').attr('content')+"/getVitaltestProcedureMappingData",
           success: function(data){
			//console.log("data--"+data)
            var data1 = jQuery.parseJSON( data );
			if(data1.status=="SUCCESS"){
			offRegister();
			var data2 = data1.data;
			//console.log("Data "+ data2);
//			 var i=1;
             var table = $('#vitaltestProcedureMappingData').DataTable( {	
			 "responsive": true, "lengthChange": true, "autoWidth": false,"pagingType": "full_numbers","pageLength": 50,
             "buttons": [ "csv", "excel"],
             "language": {"emptyTable": "No Data available"  },
	         "aaData": data2,
      		  "aoColumns": [ 
	 			//{"mData": null, render: function(){return i++;}   },
	 			{ "mData": "id"},
				{ "mData": "tabname"},
				{ "mData": "procedurename"},
      		    { "mData": "procedurecode"},
      		    { "mData": "status"},
				],
      		}).buttons().container().appendTo('#vitalMasterData_wrapper .col-md-6:eq(0)');
      		}
      		else{
			 var table = $('#SpecialityTable').DataTable( {	
      		}).buttons().container().appendTo('#vitalMasterData_wrapper .col-md-6:eq(0)');
			}
        },
        error: function(e){
	      offRegister();
            alert('Error: ' + e);
         }
    });
    
  }  
     
 function getprocedureCodeNameMasterData() {
		var specilityid  = document.getElementById("speciality").value;
		var packageid  = document.getElementById("packageid").value;
		var userstate = document.getElementById("statecode").value;
		
  		$.ajax({
		 type: "POST",
		 url:""+$('#ctx').attr('content')+"/getprocedureMasterBySpecilityCodeAndPackageCodeByState",
         data: {    
				"specilitycode":specilityid,
				"packagecode":packageid,
				"statecode":userstate,
       		 },
           success: function(data){
			//getPackageCost();
            newData = data;
            //console.log(newData);
			$("#procedureid option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
            // console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {
             var values =  obj[key];
             var x = document.getElementById("procedureid");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Procedure";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.procedurename;
             option.value = values.procedurecode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
             alert('Error: ' + e);
         }
         
    });
 } 
 
 function getSpecialityBySchemeCoceAndStateCode(){
    var schemeid = document.getElementById("scheme").value;
	var statecode = document.getElementById("statecode").value;
	if(schemeid ==""){
		alert("Please select Scheme");
	}
  	$.ajax(
	{
		type: "POST",
        url: ""+$('#ctx').attr('content')+"/getSpecialityBySchemeCoceAndStateCode",
        data: {
			"schemeid": schemeid,
			"statecode": statecode    	
       		 },
          success: function(data){
			offRegister();
            newData = data;
            //console.log(newData);
			$("#speciality option").remove();
            var obj = jQuery.parseJSON( data );
            obj = obj.data;
             //console.log("-------"+obj);
        	 var count=0;
         	for (var key in obj) {

             var values =  obj[key];
             var x = document.getElementById("speciality");
             if(count==0){
             var option = document.createElement("option");
             option.text ="Select Speciality";
             option.value = "";
             x.add(option);
             }
             var option = document.createElement("option");
             option.text = values.specialityname;
             option.value = values.specialitycode;
             x.add(option);

             count++;
             }   
         },
         error: function(e){
            
         }
    });

} 
 